<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE chapter  PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % extensions SYSTEM "../stylesheets/macros.ent" >
<!ENTITY % entities SYSTEM "../stylesheets/macros-en.ent" >
%extensions;
%entities;
]>
<chapter id="relnotes:changelog" lang="en">
	<title>Changelog</title>
	<section id="Changelog:general">
		<title>General</title>
		<itemizedlist>
			<listitem><simpara>
					Various small changes to the frontend to improve the UMC module layout
					(<u:bug>36772</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
					References to UCC 2.0 have been updated (<u:bug>38801</u:bug>).
			</simpara></listitem>
		</itemizedlist>
	</section>

	<section id="changelog:boot">
		<title>System boot / initial ramdisk</title>
		<itemizedlist>
			<listitem><simpara>
					Hook directories have been added which make it possible to place arbitrary
					scripts in a UCC image which will be executed by the initramfs (<u:bug>31384</u:bug>).
			</simpara></listitem>
		</itemizedlist>
	</section>

	<section id="changelog:rollout">
		<title>Image roll-outs and image updates</title>
		<itemizedlist>
			<listitem><simpara>
					It is now possible to assign a default UCS image server for a UCC client.
					The UCC client will then download its image from the designated server (<u:bug>35410</u:bug>).
			</simpara></listitem>
		</itemizedlist>
	</section>

	<section id="changelog:build">
		<title>Image build and image management</title>
		<itemizedlist>
			<listitem><simpara>
					The <command>ucc-image-add-citrix-receiver</command> script now cleans
					out the local repository of retrieved package files
					(<u:bug>38741</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
					The <command>ucc-image-add-citrix-receiver</command> script now installs
					packages more reliably by using the <command>dpkg</command> parameters <option>--force-confnew --force-overwrite --force-overwrite-dir</option> (<u:bug>38905</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
					The image generation program <command>ucc-image</command> has been adapted to support creating large iso files on UCS 4 (<u:bug>38906</u:bug>).
			</simpara></listitem>
		</itemizedlist>
	</section>

	<section id="changelog:ucs">
		<title>UCS domain integration</title>
		<section id="changelog:ucs:join">
			<title>Domains joins of UCC clients</title>
			<itemizedlist>
				<listitem><simpara>
						A bug was fixed which could lead to failing domain joins (<u:bug>37910</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>
		<section id="changelog:ucs:umc">
			<title>&ucsUMC; integration</title>
			<itemizedlist>
				<listitem><simpara>
						The UCC hardware settings policy tooltip has been adapted to use the
						correct <command>xrandr</command> parameter for querying the display devices
						(<u:bug>38678</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>
		<section id="changelog:wizard">
			<title>UCC installation wizard</title>
			<itemizedlist>
				<listitem><simpara>
						The layout of the UCC installation wizard has been changed since a Citrix
						receiver is now integrated into UCC thin client images. A custom
						receiver can optionally be uploaded (<u:bug>38806</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>
		<section id="changelog:ucc:image">
			<title>UCC image module</title>
			<itemizedlist>
				<listitem><simpara>
						The UCC image module has been updated to show available UCC 2.1 images (<u:bug>38912</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>
	</section>

	<section id="changelog:images">
		<title>UCC standard images</title>
		<section id="changelog:images:general">
			<title>General</title>
			<itemizedlist>
				<listitem><simpara>
						An update adds an explicit dependency to the internationalisation (i18n) packages for Firefox:
						Updated language packages for Ubuntu Trusty dropped package dependencies, which would lead to 
						potential removal of the Firefox i18n packages during updates (<u:bug>37219</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>
		<section id="changelog:images:thinclient">
			<title>UCC thin client image</title>
			<itemizedlist>
				<listitem><simpara>
						Citrix Receiver and the Citrix Session are now shipped with the UCC thin client image (<u:bug>38181</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
						The directory <filename>/</filename> is now mounted with option 755 when using overlayfs (<u:bug>38925</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Two new binary packages are available that enable support for caching fallback system policies on a thinclient image.
					<package>univention-ucc-eval-policies-on-join</package> writes system policies during the initial join process.
					<package>univention-ucc-eval-policies-on-boot</package> writes system policies during each local boot (<u:bug>35363</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
					Full partition devices (like /dev/sda or /dev/sdb) on removable USB devices	are no longer mounted on to thin clients (UCC desktop systems are not
					affected), since this could lead to delays in freeing unmounted devices in terminal services like RDP or Citrix.
					The old behaviour can be restored by setting the UCR variable ucc/mount/fullpartition to true (<u:bug>36717</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>
	</section>

	<section id="changelog:sessions">
		<title>Terminal sessions</title>
		<section id="changelog:sessions:XenApp">
			<title>Citrix</title>
			<itemizedlist>
				<listitem><simpara>
						Dependencies to software packages to enable "Windows Media HDX playback" have been added to
						the package <package>univention-ucc-session-xenapp</package>
						(<u:bug>38741</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
						The package <package>univention-ucc-usb-raw-printer</package> has been added to create/remove
						local (raw) printer queues for USB printers in order to enable "Client Printer Redirection"
						(<u:bug>37889</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
						A UCR config template has been added for the HDX USB redirect daemon rules file /opt/Citrix/ICAClient/usb.conf.
						USB redirect rules can be configured with the UCR variable ucc/xenapp/ctxusb/rules (<u:bug>38925</u:bug>).
				</simpara></listitem>
				<listitem><simpara>
						The package <package>univention-ucc-session-xenapp</package> has been updated to set the UCR
						variable 
						<literal>ucc/firefox/defaults/rememberSignons</literal> to <envar>'user_pref("signon.rememberSignons",false);'</envar> by default.
						This prevents a recurring popup in firefox when accessing Citrix terminal services (<u:bug>38932</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>
		<section id="changelog:sessions:rdp">
			<title>RDP</title>
			<itemizedlist>
				<listitem><simpara>
					The divide key available on the numeric block on some keyboards
					was mapped incorrectly when connecting to Windows terminal servers.
					Instead of the expected division sign, a minus sign was returned.
					This update corrects the keyboard mapping (<u:bug>35159</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>
		<section id="changelog:sessions:xrdp">
			<title>XRDP</title>
			<itemizedlist>
				<listitem><simpara>
					A missing software dependency to <package>univention-directory-listener</package> has been
					added to <package>univention-xrdp</package> (<u:bug>38991</u:bug>).
				</simpara></listitem>
			</itemizedlist>
		</section>

	</section>

	<section id="changelog:hardware">
		<title>Hardware support</title>
		<itemizedlist>
			<listitem><simpara>
					Desktop and thin-client image use a newer kernel (3.16) and <package>xserver-core</package> (1.16) version from Ubuntu <wordasword>Utopic</wordasword> (<u:bug>37970</u:bug>).
			</simpara></listitem>
		</itemizedlist>
	</section>

	<section id="changelog:services">
		<title>System services</title>
		<itemizedlist>
			<listitem><simpara>
				A problem with the caching of user passwords has been fixed (<u:bug>35333</u:bug>).
			</simpara></listitem>
		</itemizedlist>
	</section>

	<section id="changelog:clients">
		<title>Client management</title>
		<itemizedlist>
			<listitem><simpara>
					The configuration file for the PAM CIFS mount no longer falls back to <envar>ldap/server/name</envar> if <envar>ucc/mount/cifshome/server</envar> is unset (<u:bug>35111</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
					The cifsmount stanza is now only written if <envar>ucc/mount/cifshome/server</envar> is set (<u:bug>35111</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
					The network timeout for ldap connections is now configurable with the new UCR variable <envar>ucc/ldap/network/timeout</envar>.
					The default is 10 seconds (<u:bug>36325</u:bug>).
			</simpara></listitem>
			<listitem><simpara>
				Two new UCR variables have been added to configure the behaviour when connecting to unavailable LDAP servers.
				<envar>ucc/ldap/timeout</envar>: Timeout for LDAP queries.
				<envar>ucc/ldap/timelimit</envar>: Maximum duration of LDAP queries
				If unset, the default for all variables is ten seconds (<u:bug>37321</u:bug>).
			</simpara></listitem>
		</itemizedlist>
	</section>
</chapter>
<!-- vim:set ts=2 sw=2 noet: -->
