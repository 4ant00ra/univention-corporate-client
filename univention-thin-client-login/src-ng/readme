
Environment

SESSION_RSH 	remote shell program to connect to the server
SESSION_SERVER	program to call on the server
SESSION_HOST	hostname of the server
SESSION_SCRIPT	script for session setup


client 
	- start connection to the server
	- implement some commands to execute on the server
	- start other program which does the session setup by using the protocol
	- transport commands from other program to server
	- wait for commands executed on the server 
	- do a keep-alive conversation with the server
	- monitor children (connection, other program) 
	- listen to the server for commands to be executed localy
	- perform clean up


server
	- do a keep-alive converstion with the client
	- wait for commands from the clients
	- execute programs locally 
	- report succes and exit status to the client
	- listen for local programs, which want to run commands on the client
	- send commands to the client
	- wait for status from the client
	- clean up, if keep-alive conversation stops or client is requesting exit


protocol:

	alive -> request answer
	setenv -> set an environment variable
	run -> start a program synchronous
	start -> start a program asynchronous
	exit -> exit
	error -> abort
	cleanup cmd -> register a program to execute on session-shutdown
	stdout file -> set stdout to file	
	stderr file -> set stderr to file


other program should implement functions (as arguments)

	start: start the session
	stop: stop the session
	cleanup: do cleanup
